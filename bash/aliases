function p { cd ~/Projects/$1; }

# Single letters, use them wisely.
alias b="bundle"
alias f="foreman start"
alias g="git"
alias c="clear"
alias u="cd .."
alias r="rake"
alias t="tmux"
alias v="vim ."
alias j="jobs"

# ls
alias ls="ls -laAFGh"
alias ll="ls -l"
alias la='ls -A'

# git
alias gl='git pull'
alias glr='git pull --rebase'
alias gp='git push'
alias gpom='git push origin master'
alias gpoh='git push origin head'
alias gc='git commit'
alias gcam='git commit -a -m'
alias gcm='git checkout master'
alias gco='git checkout'
alias gb='git branch'
alias gba='git branch -a -v'
alias gbd='git branch -d'
alias gs='git status'
alias gwho='git log | grep Author | sort | uniq'
alias gcl='git clone'
alias grp='git remote prune origin'
alias gls='git log --stat'
alias gwtf="git for-each-ref --count=30 --sort=-committerdate refs/heads/ --format='%(refname)' | cut -d / -f 3-"

# git diff
alias gd="git diff"
alias gdm="git diff master"
alias gdms="git diff master --stat"
alias gdmss="git diff master --shortstat"

# rails
alias sc='script/console'
alias ss='script/server'
alias ssd='script/server --debugger'
alias sg='script/generate'
alias tlog='tail -f log/development.log'
alias rc='rails console'
alias rg='rails generate'
alias rs='rails server'

# gem install yard
alias gems='yard server --gems &; sleep 2s; open http://localhost:8808;'

alias lock='/System/Library/CoreServices/Menu\ Extras/User.menu/Contents/Resources/CGSession -suspend'
alias checkspace='du -csh *'

# misc OS X
alias da='~/Projects/dotfiles/bash/domainavailable'
alias fline="for file (*(ND-.)) IFS= read -re < $file" # cat first line for all files in this dir
alias mute='osascript -e "set Volume 0"'
alias lowvol='osascript -e "set Volume 0.01"'
alias cal="gcal" # gcal highlights the current day, install gcal via homebrew
alias dimensions="sips -g pixelHeight -g pixelWidth " # specify path/to/image after alias

# have to install the openvpn applescript from my applescripts project
alias openvpn="/usr/local/bin/pgrep racoon | xargs sudo kill -9; osascript ~/Projects/applescripts/openvpn.applescript"

alias pserver="open http://localhost:8080/ && python -m SimpleHTTPServer 8080"
alias whatsrunning="lsof -i"
alias myip='ifconfig|grep -A 4 "en0"|grep -oe "[[:digit:]]\{2,3\}.[[:digit:]]\{2,3\}.[[:digit:]]\{2,3\}.[[:digit:]]\{2,3\}[[:space:]]"|pbcopy;echo "copied IP to clipboard: ";pbpaste'
alias cleannastydesktop="rm ~/Desktop/Screen\ shot\ *"
alias dirsize="du -ksh ."
alias loghead="for file in log/*; do; echo "$file\n--"; head $file; echo "--\n"; done | more"

# nginx
alias nstop="pgrep nginx | xargs sudo kill -9"
alias nrestart="pgrep nginx | xargs sudo kill -9 && sudo /usr/local/sbin/nginx"
alias nginx_error_log="tail -f /usr/local/Cellar/nginx/$(nginx -v 2>&1 | sed -En 's/.*([0-9]{1}\.[0-9]{1}\.[0-9]{1}$)/\1/p')/logs/error.log"

# memcached
alias mcd='memcached -d -l 127.0.0.1 -p 11211'
alias mck='killall memcached'
alias mcst='ps ax | grep memcached | grep -v grep'

# postgres
alias pgstart="pg_ctl -D /usr/local/var/postgres -l /usr/local/var/postgres/server.log start"
alias pgstop="pg_ctl -D /usr/local/var/postgres stop -s -m fast"


alias vim="mvim -v"
alias dnsflush="dscacheutil -flushcache && sudo killall -HUP mDNSResponder"
alias rubyscript='printf "#!/usr/bin/env ruby \n\nprint \"Hello from a Ruby script!\"\n" >> ruby_script; chmod +x ruby_script; ./ruby_script'
alias reload="source ~/.bash_profile"

# https://github.com/fcambus/ansiweather
# https://news.ycombinator.com/item?id=6587234
alias weather="~/Projects/ansiweather/ansiweather"

# use OS X QuickLook to open files from terminal
alias qlf='qlmanage -p "$@" >> /dev/null'

# tmux aliases
alias tmux="TERM=screen-256color-bce tmux"
alias ta="tmux attach"
alias tls="tmux ls"

# bounce wi-fi (ifconfig showed it is en0 on MBP)
alias wifi="sudo ifconfig en0 down && sudo ifconfig en0 up"
